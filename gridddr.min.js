!function(e){e.gridddr=function(t){return e("body").gridddr(t,!0)},e.fn.gridddr=function(t,i){var a={debug:!1,relative:!1,container:null,itemClass:!1,itemTag:"img",defaultClasses:{container:".gridddr-container",item:".gridddr-item",overlay:".gridddr-overlay"},saveNode:!1,itemWidth:150,itemHeight:150,overlay:!0,overlayOpacity:!0,gridX:!1,gridY:!1,repeat:!0,useGPU:!0,animations:!0,animationsSpeed:500},r=e.extend(a,t),n={findGridddrItems:function(e){var t=r.itemTag&&r.itemClass?r.itemTag+r.itemClass:!1||r.itemTag||r.itemClass||"*";return n.debug("Looking for:",t),e.find(">"+t)},wrapItems:function(t){var i=n.findGridddrItems(t);return i.size()>0&&i.each(function(){var t=r.saveNode?e(this):e(this).wrap(e("<div/>",{"class":r.defaultClasses.item.slice(1)})).parent();r.defaultClasses.item&&!t.hasClass(r.defaultClasses.item.slice(1))&&t.addClass(r.defaultClasses.item.slice(1)),r.itemWidth&&t.width(Number(r.itemWidth)),r.itemHeight&&t.height(Number(r.itemHeight))}),n.createGrid(t,i)},setRelativeClass:function(e,t){var t=t||r.relative||!1;return t?e.addClass("relative"):e.removeClass("relative"),!0},createGrid:function(){return!0},overlay:function(t){if(0!=r.overlay){var i=e(t.find(r.defaultClasses.overlay).get(0)||t.prepend(e("<div/>",{"class":r.defaultClasses.overlay.slice(1)})).find(r.defaultClasses.overlay).get(0));"true"!=r.overlay.toString()&&n.css(i,"background-color",r.overlay.toString()),"number"==typeof r.overlayOpacity?n.css(i,"opacity",Number(r.overlayOpacity)):"boolean"==typeof r.overlayOpacity&&n.css(i,"opacity",Math.min(.9,Number(r.overlayOpacity)))}return!0},css:function(e,t,i,a){if(r.animations){if("object"!=typeof t){var s=t;t={},t[s]=i,delete s,delete i}e.animate(t,r.animationsSpeed||0,a||!1)}else e.css(t,i||!1),"function"==typeof a?a.call():"function"==typeof window[a]?window[a]():n.debug(a,"function dows not exist.");return!0},preloadContent:function(){},debug:function(){return r.debug&&console?(console.log.apply(console,arguments),!0):!1},inititalize:function(t,i){var a=e(i);return n.preloadContent(a),a.hasClass(r.defaultClasses.container.slice(1))||a.addClass(r.defaultClasses.container.slice(1)),r.relative&&n.setRelativeClass(a,!0),n.overlay(a)&&n.wrapItems(a)&&!a.data("inititalized")?(a.data("inititalized",!0),n.debug(i,"inititalized as Gridddr."),!0):(n.debug("Something went wrong"),!1)}},s={getSettings:function(){return r},setOverlayOpacity:function(t){var t=t||!!t;r.overlayOpacity=t,n.overlay(e(r.container))}};return e.extend(this,s),e.each(this,n.inititalize),this}}(jQuery);