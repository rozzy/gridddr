!function(e){e.gridddr=function(i){return e("body").gridddr(i,!0)},e.fn.gridddr=function(i,t){var a={debug:!1,relative:!1,container:null,itemClass:!1,itemTag:"img",defaultClasses:{container:".gridddr-container",item:".gridddr-item",overlay:".gridddr-overlay",invisible:".gridddr-invisible"},saveNode:!1,itemWidth:150,itemHeight:150,preloading:!0,overlay:!0,overlayOpacity:!0,gridX:!1,gridY:!1,repeat:!0,useGPU:!0,animations:!0,animationType:"flip",animationsSpeed:1e3},r=e.extend(a,i),s={findGridddrItems:function(e){var i=r.itemTag&&r.itemClass?r.itemTag+r.itemClass:!1||r.itemTag||r.itemClass||"*";return s.debug("Looking for:",i),e.find(">"+i)},generateWrapper:function(i){return i.wrap(e("<div/>",{"class":r.defaultClasses.item.slice(1)})).parent()},wrapItems:function(i){var t=s.findGridddrItems(i);return t.size()>0&&t.each(function(){var i=r.saveNode?e(this):s.generateWrapper(e(this));r.preloading&&i.addClass(r.defaultClasses.invisible.slice(1)),r.defaultClasses.item&&!i.hasClass(r.defaultClasses.item.slice(1))&&i.addClass(r.defaultClasses.item.slice(1)),r.itemWidth&&i.width(Number(r.itemWidth)),r.itemHeight&&i.height(Number(r.itemHeight))}),s.createGrid(i,t)},setRelativeClass:function(e,i){var i=i||r.relative||!1;return i?e.addClass("relative"):e.removeClass("relative"),!0},createGrid:function(){return!0},overlay:function(i){if(0!=r.overlay){var t=e(i.find(r.defaultClasses.overlay).get(0)||i.prepend(e("<div/>",{"class":r.defaultClasses.overlay.slice(1)})).find(r.defaultClasses.overlay).get(0));"true"!=r.overlay.toString()&&s.css(t,"background-color",r.overlay.toString()),"number"==typeof r.overlayOpacity?s.css(t,"opacity",Number(r.overlayOpacity)):"boolean"==typeof r.overlayOpacity&&s.css(t,"opacity",Math.min(.9,Number(r.overlayOpacity)))}return!0},css:function(e,i,t,a){if(r.animations){if("object"!=typeof i){var n=i;i={},i[n]=t,delete n,delete t}e.animate(i,r.animationsSpeed||0,a||!1)}else e.css(i,t||!1),"function"==typeof a?a.call():"function"==typeof window[a]?window[a]():s.debug(a,"function dows not exist.");return!0},preloadContent:function(i){if(r.preloading){var t=i.find(r.defaultClasses.item+">[data-src]");t.size()>0&&t.each(function(){var i=e(this),t=i.data("src");e("<img>").attr("src",t).one("load",function(){i.attr("src",t).removeData("src"),i.parent().removeClass(r.defaultClasses.invisible.slice(1))})})}},debug:function(){return r.debug&&console?(console.log.apply(console,arguments),!0):!1},inititalize:function(i,t){var a=e(t);return a.hasClass(r.defaultClasses.container.slice(1))||a.addClass(r.defaultClasses.container.slice(1)),r.relative&&s.setRelativeClass(a,!0),s.overlay(a)&&s.wrapItems(a)&&!a.data("inititalized")?(s.preloadContent(a),a.data("inititalized",!0),s.debug(t,"inititalized as Gridddr."),!0):(s.debug("Something went wrong"),!1)}},n={getSettings:function(){return r},setOverlayOpacity:function(i){var i=i||!!i;r.overlayOpacity=i,s.overlay(e(r.container))}};return e.extend(this,n),e.each(this,s.inititalize),this}}(jQuery);